<!-- views/home.ejs -->
<%- include('partials/header', { pageTitle: pageTitle, user: user }) %>

  <div class="container mt-4 mb-2">
    <h1 class="text-center mb-4" style="font-family: 'Georgia', serif; color: #2c3e50;">Welcome to Book Swap</h1>
    <div class="row mb-4">
      <div class="col-md-4">
        <input type="text" id="searchInput" class="form-control" placeholder="Search by name or author">
      </div>
      <div class="col-md-2">
        <select id="typeFilter" class="form-select">
          <option value="">All Types</option>
          <option value="horror">Horror</option>
          <option value="mystery">Mystery</option>
          <option value="thriller">Thriller</option>
          <option value="fantasy">Fantasy</option>
          <option value="sci-fi">Sci-Fi</option>
          <option value="romance">Romance</option>
        </select>
      </div>
      <div class="col-md-2">
        <select id="priceFilter" class="form-select">
          <option value="">All Prices</option>
          <option value="0-10">€0 - €10</option>
          <option value="10-20">€10 - €20</option>
          <option value="20-50">€20 - €50</option>
          <option value="50+">€50+</option>
        </select>
      </div>
      <div class="col-md-2 ">
        <button id="applyFilters" class="btn btn-primary w-100">Apply Filters</button>
      </div>
    </div>
    <div id="myBooksError" class="alert alert-danger" style="display: none;"></div>
    <div id="myBooksContainer" class="row row-cols-1 row-cols-md-5 g-4 mb-2">
      <!-- Books will be dynamically populated here -->
    </div>
  </div>

  <style>
    .card {
      border-radius: 10px;
      padding-top: 10px;
      background: linear-gradient(135deg, #e1e1d8, #ddddd3);
      transition: transform 0.3s ease-in-out;
      width: 200px;
      /* Compact size */
      padding: 5px;
      position: relative;
      box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1);
      overflow: hidden;
      text-align: center;
    }

    .card:hover {
      transform: scale(1.05);
    }

    .card-img-top {
      height: 250px;
      object-fit: cover;
      border-radius: 8px;
      transition: transform 0.3s ease-in-out;
    }

    /* Shrink image on hover */
    .card:hover .card-img-top {
      transform: scale(0.9);
    }

    /* Name & Price - Fully Hidden Initially */
    .card-info {
      position: absolute;
      bottom: 0;
      left: 0;
      width: 100%;
      background: rgba(0, 0, 0, 0.7);
      color: white;
      font-size: 14px;
      padding: 5px 0;
      text-align: center;
      border-radius: 0 0 8px 8px;
      display: none;
      /* Hides the text initially */
    }

    /* Show name & price on hover */
    .card:hover .card-info {
      display: block;
      /* Shows the text when hovered */
    }

    .btn-primary {
      background-color: #6F9EB2;
      border: none;
      transition: background-color 0.3s;
    }

    .btn-primary:hover {
      background-color: #EED47E;
    }
  </style>

  <script src="/js/home.js"></script>
  <%- include('partials/footer') %>